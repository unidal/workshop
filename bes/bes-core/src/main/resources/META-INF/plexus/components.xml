<plexus>
	<components>
		<component>
			<role>com.site.bes.consumer.EventConsumerRegistry</role>
			<implementation>com.site.bes.consumer.DefaultEventConsumerRegistry</implementation>
		</component>
		<component>
			<role>com.site.bes.queue.EventTypeRegistry</role>
			<implementation>com.site.bes.queue.DefaultEventTypeRegistry</implementation>
			<configuration>
				<defaultStorageType>memcache</defaultStorageType>
			</configuration>
		</component>
		<component>
			<role>com.site.bes.queue.EventQueueManager</role>
			<implementation>com.site.bes.queue.DefaultEventQueueManager</implementation>
			<requirements>
				<requirement>
					<role>com.site.bes.queue.EventTypeRegistry</role>
				</requirement>
			</requirements>
		</component>
		<component>
			<role>com.site.bes.engine.EventEngine</role>
			<implementation>com.site.bes.engine.DefaultEventEngine</implementation>
			<requirements>
				<requirement>
					<role>com.site.bes.consumer.EventConsumerRegistry</role>
				</requirement>
				<requirement>
					<role>com.site.bes.queue.EventQueueManager</role>
				</requirement>
			</requirements>
		</component>
		<component>
			<role>com.site.bes.engine.EventDispatcher</role>
			<implementation>com.site.bes.engine.DefaultEventDispatcher</implementation>
			<instantiation-strategy>per-lookup</instantiation-strategy>
		</component>
		<component>
			<role>com.site.bes.queue.EventQueue</role>
			<role-hint>memcache</role-hint>
			<implementation>com.site.bes.queue.MemCacheEventQueue</implementation>
			<requirements>
				<requirement>
					<role>com.site.bes.queue.memcache.dashboard.DashboardManager</role>
				</requirement>
				<requirement>
					<role>com.site.bes.queue.memcache.block.BlockManager</role>
				</requirement>
			</requirements>
		</component>
		<component>
			<role>com.site.bes.queue.memcache.Cache</role>
			<implementation>com.site.bes.queue.memcache.Cache</implementation>
		</component>
		<component>
			<role>com.site.bes.queue.memcache.lock.Lock</role>
			<implementation>com.site.bes.queue.memcache.lock.DefaultLock</implementation>
			<requirements>
				<requirement>
					<role>com.site.bes.queue.memcache.Cache</role>
				</requirement>
			</requirements>
		</component>
		<component>
			<role>com.site.bes.queue.memcache.sequence.Sequence</role>
			<role-hint>event</role-hint>
			<implementation>com.site.bes.queue.memcache.sequence.DefaultSequence</implementation>
			<configuration>
				<name>event</name>
			</configuration>
			<requirements>
				<requirement>
					<role>com.site.bes.queue.memcache.Cache</role>
				</requirement>
			</requirements>
		</component>
		<component>
			<role>com.site.bes.queue.memcache.Formatter</role>
			<role-hint>event</role-hint>
			<implementation>com.site.bes.queue.memcache.event.EventFormatter</implementation>
		</component>
		<component>
			<role>com.site.bes.queue.memcache.dashboard.DashboardManager</role>
			<implementation>com.site.bes.queue.memcache.dashboard.DefaultDashboardManager</implementation>
			<requirements>
				<requirement>
					<role>com.site.bes.queue.memcache.Cache</role>
				</requirement>
			</requirements>
		</component>
		<component>
			<role>com.site.bes.queue.memcache.Formatter</role>
			<role-hint>dashboard</role-hint>
			<implementation>com.site.bes.queue.memcache.dashboard.DashboardFormatter</implementation>
		</component>
		<component>
			<role>com.site.bes.queue.memcache.dashboard.Dashboard</role>
			<implementation>com.site.bes.queue.memcache.dashboard.DefaultDashboard</implementation>
			<instantiation-strategy>per-lookup</instantiation-strategy>
			<requirements>
				<requirement>
					<role>com.site.bes.queue.memcache.Formatter</role>
					<role-hint>dashboard</role-hint>
				</requirement>
			</requirements>
		</component>
		<component>
			<role>com.site.bes.queue.memcache.block.BlockManager</role>
			<implementation>com.site.bes.queue.memcache.block.DefaultBlockManager</implementation>
			<instantiation-strategy>per-lookup</instantiation-strategy>
			<requirements>
				<requirement>
					<role>com.site.bes.queue.memcache.Cache</role>
				</requirement>
				<requirement>
					<role>com.site.bes.queue.memcache.lock.Lock</role>
				</requirement>
				<requirement>
					<role>com.site.bes.queue.memcache.sequence.Sequence</role>
					<role-hint>block</role-hint>
					<field-name>m_blockSequence</field-name>
				</requirement>
				<requirement>
					<role>com.site.bes.queue.memcache.sequence.Sequence</role>
					<role-hint>event</role-hint>
					<field-name>m_eventSequence</field-name>
				</requirement>
				<requirement>
					<role>com.site.bes.queue.memcache.Formatter</role>
					<role-hint>block</role-hint>
					<field-name>m_blockFormatter</field-name>
				</requirement>
				<requirement>
					<role>com.site.bes.queue.memcache.Formatter</role>
					<role-hint>event</role-hint>
					<field-name>m_eventFormatter</field-name>
				</requirement>
			</requirements>
		</component>
		<component>
			<role>com.site.bes.queue.memcache.sequence.Sequence</role>
			<role-hint>block</role-hint>
			<implementation>com.site.bes.queue.memcache.sequence.DefaultSequence</implementation>
			<configuration>
				<name>block</name>
			</configuration>
			<requirements>
				<requirement>
					<role>com.site.bes.queue.memcache.Cache</role>
				</requirement>
			</requirements>
		</component>
		<component>
			<role>com.site.bes.queue.memcache.Formatter</role>
			<role-hint>block</role-hint>
			<implementation>com.site.bes.queue.memcache.block.BlockFormatter</implementation>
		</component>
		<component>
			<role>com.site.bes.queue.mysql.EventTransformer</role>
			<implementation>com.site.bes.queue.mysql.EventTransformer</implementation>
		</component>
		<component>
			<role>com.site.bes.queue.EventQueue</role>
			<role-hint>mysql</role-hint>
			<implementation>com.site.bes.queue.MysqlEventQueue</implementation>
			<requirements>
				<requirement>
					<role>com.site.bes.queue.mysql.dal.EventDao</role>
				</requirement>
				<requirement>
					<role>com.site.bes.queue.mysql.EventTransformer</role>
				</requirement>
			</requirements>
		</component>
		<component>
			<role>com.site.bes.queue.mysql.dal.EventDao</role>
			<implementation>com.site.bes.queue.mysql.dal.EventDao</implementation>
			<requirements>
				<requirement>
					<role>com.site.dal.jdbc.QueryEngine</role>
				</requirement>
			</requirements>
		</component>
		<component>
			<role>com.site.dal.jdbc.mapping.TableProvider</role>
			<role-hint>event</role-hint>
			<implementation>com.site.dal.jdbc.mapping.SimpleTableProvider</implementation>
			<configuration>
				<logical-table-name>event</logical-table-name>
				<physical-table-name>event</physical-table-name>
				<data-source-name>jdbc-bes</data-source-name>
			</configuration>
		</component>
	</components>
</plexus>
